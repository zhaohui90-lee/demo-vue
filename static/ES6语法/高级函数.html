<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>高级函数</title>
  <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
</head>
<body>
<div id="app"></div>
</body>
<script>
  const arr = [10, 20, 30, 40, 50]
  let sum = 0
  for (const id in arr) {
    sum += arr[id]
  }
  console.log(sum)

  let sum1 = 0
  for (const number of arr) {
    sum1 += number
  }
  console.log(sum1)

  // ES6语法 高级函数
  // map/filter/reduce
  let sum3 = arr.reduce((a, b) => a + b)
  console.log(sum3)
  // 编程范式：命令式编程/声明式编程
  // 编程范式：面向对象编程（第一公民：对象）/函数式编程（第一公民：函数）
  const numbers = [10, 151, 156, 16868, 15, 556, 154]
  // filter的回调函数有一个要求，必须返回一个boolean值
  let newNumbers = numbers.filter((num) => num < 500)
  console.log(newNumbers)
  // map函数的使用：每一个遍历的元素都执行相应的操作
  let new2Numbers = numbers.map((num) => num * 2)
  console.log(new2Numbers)
  // reduce
  let totalNumbers = numbers.reduce((prev, current) => prev + current, 0)
  console.log(numbers)
  console.log(totalNumbers)
  let total = numbers.filter((num) => num < 500)
    .map((num) => num * 2)
    .reduce((prev, current) => prev + current, 0)
  console.log(total)

  console.log(window)


  let arr111 = [151, 2000, 105, 2000, 2, 3, 4, 5, 5];
  let resultArr;
  // resultArr = arr111.filter(function (item, index, self) {
  //   return self.indexOf(item) == index;
  
  // });

  resultArr = arr111.filter((item, index, self) => {
    console.log(self.indexOf(item), index);
    return self.indexOf(item) === index
  })
  console.log(resultArr);


  let res = [
          {
						"department_code":"20401",
						"register_times":"2",
						"clinic_area_id":"",
						"insurance_department_code":"01",
						"insurance_department_name":"全医疗科室",
						"am_limit_numbers":"27",
						"pm_limit_numbers":"27",
						"department_name":"儿科",
						"py":"cbr",
						"clinic_name":"",
						"wb":"bua",
						"department_expert_flag":"0",
						"clinic_area_name":"",
						"register_fee":"0.00",
						"limit_numbers":"27",
						"unit":"3",
						"department_plan_number":"141",
						"outpatient_number":"",
						"doctor_name":"陈冰",
						"diagnosis_fee":"14.00",
						"clinic_id":"",
						"doctor_code":"10586"
					},
					{
						"department_code":"20401",
						"register_times":"18",
						"clinic_area_id":"",
						"insurance_department_code":"01",
						"insurance_department_name":"全医疗科室",
						"am_limit_numbers":"27",
						"pm_limit_numbers":"27",
						"department_name":"儿科",
						"py":"cbr",
						"clinic_name":"",
						"wb":"bua",
						"department_expert_flag":"0",
						"clinic_area_name":"",
						"register_fee":"0.00",
						"limit_numbers":"27",
						"unit":"3",
						"department_plan_number":"141",
						"outpatient_number":"",
						"doctor_name":"陈蓉",
						"diagnosis_fee":"14.00",
						"clinic_id":"",
						"doctor_code":"10511"
					},
					{
						"department_code":"20401",
						"register_times":"15",
						"clinic_area_id":"",
						"insurance_department_code":"01",
						"insurance_department_name":"全医疗科室",
						"am_limit_numbers":"27",
						"pm_limit_numbers":"27",
						"department_name":"儿科",
						"py":"cbr",
						"clinic_name":"",
						"wb":"bua",
						"department_expert_flag":"0",
						"clinic_area_name":"",
						"register_fee":"0.00",
						"limit_numbers":"27",
						"unit":"3",
						"department_plan_number":"141",
						"outpatient_number":"",
						"doctor_name":"啥事",
						"diagnosis_fee":"14.00",
						"clinic_id":"",
						"doctor_code":"10519"
					},
					{
						"department_code":"20401",
						"register_times":"13",
						"clinic_area_id":"",
						"insurance_department_code":"01",
						"insurance_department_name":"全医疗科室",
						"am_limit_numbers":"13",
						"pm_limit_numbers":"13",
						"department_name":"儿科",
						"py":"dj",
						"clinic_name":"",
						"wb":"sv",
						"department_expert_flag":"0",
						"clinic_area_name":"",
						"register_fee":"0.00",
						"limit_numbers":"13",
						"unit":"3",
						"department_plan_number":"112",
						"outpatient_number":"",
						"doctor_name":"杜娟",
						"diagnosis_fee":"16.00",
						"clinic_id":"",
						"doctor_code":"10034"
					},
					{
						"department_code":"40501",
						"register_times":"1",
						"clinic_area_id":"",
						"insurance_department_code":"01",
						"insurance_department_name":"全医疗科室",
						"am_limit_numbers":"2",
						"pm_limit_numbers":"2",
						"department_name":"超声专家门诊",
						"py":"yyz",
						"clinic_name":"",
						"wb":"vda",
						"department_expert_flag":"0",
						"clinic_area_name":"",
						"register_fee":"0.00",
						"limit_numbers":"2",
						"unit":"3",
						"department_plan_number":"150",
						"outpatient_number":"",
						"doctor_name":"",
						"diagnosis_fee":"14.00",
						"clinic_id":"",
						"doctor_code":""
					},
					{
						"department_code":"2020304",
						"register_times":"3",
						"clinic_area_id":"",
						"insurance_department_code":"01",
						"insurance_department_name":"全医疗科室",
						"am_limit_numbers":"11",
						"pm_limit_numbers":"11",
						"department_name":"骨科（脊柱、小二骨科 ）",
						"py":"xy",
						"clinic_name":"",
						"wb":"to",
						"department_expert_flag":"0",
						"clinic_area_name":"",
						"register_fee":"0.00",
						"limit_numbers":"11",
						"unit":"3",
						"department_plan_number":"146",
						"outpatient_number":"",
						"doctor_name":"徐煜",
						"diagnosis_fee":"16.00",
						"clinic_id":"",
						"doctor_code":"10709"
					},
					{
						"department_code":"20401",
						"register_times":"18",
						"clinic_area_id":"",
						"insurance_department_code":"01",
						"insurance_department_name":"全医疗科室",
						"am_limit_numbers":"27",
						"pm_limit_numbers":"27",
						"department_name":"儿科",
						"py":"cbr",
						"clinic_name":"",
						"wb":"bua",
						"department_expert_flag":"0",
						"clinic_area_name":"",
						"register_fee":"0.00",
						"limit_numbers":"27",
						"unit":"3",
						"department_plan_number":"141",
						"outpatient_number":"",
						"doctor_name":"陈冰蓉",
						"diagnosis_fee":"14.00",
						"clinic_id":"",
						"doctor_code":"10510"
					},
					{
						"department_code":"20601",
						"register_times":"5",
						"clinic_area_id":"",
						"insurance_department_code":"01",
						"insurance_department_name":"全医疗科室",
						"am_limit_numbers":"31",
						"pm_limit_numbers":"31",
						"department_name":"耳鼻咽喉科",
						"py":"yl",
						"clinic_name":"",
						"wb":"wy",
						"department_expert_flag":"0",
						"clinic_area_name":"",
						"register_fee":"0.00",
						"limit_numbers":"31",
						"unit":"3",
						"department_plan_number":"142",
						"outpatient_number":"",
						"doctor_name":"俞亮",
						"diagnosis_fee":"14.00",
						"clinic_id":"",
						"doctor_code":"10611"
					},
					{
						"department_code":"2010801",
						"register_times":"5",
						"clinic_area_id":"",
						"insurance_department_code":"01",
						"insurance_department_name":"全医疗科室",
						"am_limit_numbers":"48",
						"pm_limit_numbers":"48",
						"department_name":"内分泌科",
						"py":"lk",
						"clinic_name":"",
						"wb":"ss",
						"department_expert_flag":"0",
						"clinic_area_name":"",
						"register_fee":"0.00",
						"limit_numbers":"48",
						"unit":"3",
						"department_plan_number":"139",
						"outpatient_number":"",
						"doctor_name":"李可",
						"diagnosis_fee":"14.00",
						"clinic_id":"",
						"doctor_code":"10570"
					},
					{
						"department_code":"21401",
						"register_times":"0",
						"clinic_area_id":"",
						"insurance_department_code":"01",
						"insurance_department_name":"全医疗科室",
						"am_limit_numbers":"19",
						"pm_limit_numbers":"19",
						"department_name":"全科医疗科",
						"py":"wyq",
						"clinic_name":"",
						"wb":"guv",
						"department_expert_flag":"0",
						"clinic_area_name":"",
						"register_fee":"0.00",
						"limit_numbers":"19",
						"unit":"3",
						"department_plan_number":"136",
						"outpatient_number":"",
						"doctor_name":"王益群",
						"diagnosis_fee":"16.00",
						"clinic_id":"",
						"doctor_code":"10535"
					},
					{
						"department_code":"20104",
						"register_times":"6",
						"clinic_area_id":"",
						"insurance_department_code":"01",
						"insurance_department_name":"全医疗科室",
						"am_limit_numbers":"22",
						"pm_limit_numbers":"22",
						"department_name":"神经内科",
						"py":"yaj",
						"clinic_name":"",
						"wb":"yev",
						"department_expert_flag":"0",
						"clinic_area_name":"",
						"register_fee":"0.00",
						"limit_numbers":"22",
						"unit":"3",
						"department_plan_number":"135",
						"outpatient_number":"",
						"doctor_name":"应爱娟",
						"diagnosis_fee":"16.00",
						"clinic_id":"",
						"doctor_code":"10534"
					},
					{
						"department_code":"2020103",
						"register_times":"3",
						"clinic_area_id":"",
						"insurance_department_code":"01",
						"insurance_department_name":"全医疗科室",
						"am_limit_numbers":"13",
						"pm_limit_numbers":"13",
						"department_name":"肝胆胰外科",
						"py":"czc",
						"clinic_name":"",
						"wb":"bkf",
						"department_expert_flag":"0",
						"clinic_area_name":"",
						"register_fee":"0.00",
						"limit_numbers":"13",
						"unit":"3",
						"department_plan_number":"134",
						"outpatient_number":"",
						"doctor_name":"陈中朝",
						"diagnosis_fee":"14.00",
						"clinic_id":"",
						"doctor_code":"10533"
					},
					{
						"department_code":"21301",
						"register_times":"3",
						"clinic_area_id":"",
						"insurance_department_code":"01",
						"insurance_department_name":"全医疗科室",
						"am_limit_numbers":"7",
						"pm_limit_numbers":"7",
						"department_name":"康复医学科",
						"py":"lqm",
						"clinic_name":"",
						"wb":"kpu",
						"department_expert_flag":"0",
						"clinic_area_name":"",
						"register_fee":"0.00",
						"limit_numbers":"7",
						"unit":"3",
						"department_plan_number":"131",
						"outpatient_number":"",
						"doctor_name":"吕祺美",
						"diagnosis_fee":"14.00",
						"clinic_id":"",
						"doctor_code":"10507"
					},
					{
						"department_code":"20102",
						"register_times":"2",
						"clinic_area_id":"",
						"insurance_department_code":"01",
						"insurance_department_name":"全医疗科室",
						"am_limit_numbers":"14",
						"pm_limit_numbers":"14",
						"department_name":"呼吸内科",
						"py":"cjh",
						"clinic_name":"",
						"wb":"bpx",
						"department_expert_flag":"0",
						"clinic_area_name":"",
						"register_fee":"0.00",
						"limit_numbers":"14",
						"unit":"3",
						"department_plan_number":"130",
						"outpatient_number":"",
						"doctor_name":"陈军红",
						"diagnosis_fee":"16.00",
						"clinic_id":"",
						"doctor_code":"10503"
					},
					{
						"department_code":"2020108",
						"register_times":"3",
						"clinic_area_id":"",
						"insurance_department_code":"01",
						"insurance_department_name":"全医疗科室",
						"am_limit_numbers":"4",
						"pm_limit_numbers":"4",
						"department_name":"血管外科",
						"py":"cdr",
						"clinic_name":"",
						"wb":"bda",
						"department_expert_flag":"0",
						"clinic_area_name":"",
						"register_fee":"0.00",
						"limit_numbers":"4",
						"unit":"3",
						"department_plan_number":"129",
						"outpatient_number":"",
						"doctor_name":"陈大荣",
						"diagnosis_fee":"16.00",
						"clinic_id":"",
						"doctor_code":"10499"
					},
					{
						"department_code":"20202",
						"register_times":"4",
						"clinic_area_id":"",
						"insurance_department_code":"01",
						"insurance_department_name":"全医疗科室",
						"am_limit_numbers":"24",
						"pm_limit_numbers":"24",
						"department_name":"神经外科",
						"py":"ww",
						"clinic_name":"",
						"wb":"gw",
						"department_expert_flag":"0",
						"clinic_area_name":"",
						"register_fee":"0.00",
						"limit_numbers":"24",
						"unit":"3",
						"department_plan_number":"127",
						"outpatient_number":"",
						"doctor_name":"王伟",
						"diagnosis_fee":"16.00",
						"clinic_id":"",
						"doctor_code":"10451"
					},
					{
						"department_code":"2020401",
						"register_times":"5",
						"clinic_area_id":"",
						"insurance_department_code":"01",
						"insurance_department_name":"全医疗科室",
						"am_limit_numbers":"23",
						"pm_limit_numbers":"23",
						"department_name":"泌尿外科",
						"py":"zjh",
						"clinic_name":"",
						"wb":"rpw",
						"department_expert_flag":"0",
						"clinic_area_name":"",
						"register_fee":"0.00",
						"limit_numbers":"23",
						"unit":"3",
						"department_plan_number":"124",
						"outpatient_number":"",
						"doctor_name":"朱军华",
						"diagnosis_fee":"14.00",
						"clinic_id":"",
						"doctor_code":"10445"
					},
					{
						"department_code":"20107",
						"register_times":"1",
						"clinic_area_id":"",
						"insurance_department_code":"01",
						"insurance_department_name":"全医疗科室",
						"am_limit_numbers":"28",
						"pm_limit_numbers":"28",
						"department_name":"肾内科",
						"py":"hjr",
						"clinic_name":"",
						"wb":"dqh",
						"department_expert_flag":"0",
						"clinic_area_name":"",
						"register_fee":"0.00",
						"limit_numbers":"28",
						"unit":"3",
						"department_plan_number":"118",
						"outpatient_number":"",
						"doctor_name":"胡锦睿",
						"diagnosis_fee":"16.00",
						"clinic_id":"",
						"doctor_code":"10289"
					},
					{
						"department_code":"2010502",
						"register_times":"4",
						"clinic_area_id":"",
						"insurance_department_code":"01",
						"insurance_department_name":"全医疗科室",
						"am_limit_numbers":"5",
						"pm_limit_numbers":"5",
						"department_name":"心血管内科",
						"py":"hzx",
						"clinic_name":"",
						"wb":"dtj",
						"department_expert_flag":"0",
						"clinic_area_name":"",
						"register_fee":"0.00",
						"limit_numbers":"5",
						"unit":"3",
						"department_plan_number":"109",
						"outpatient_number":"",
						"doctor_name":"胡智星",
						"diagnosis_fee":"16.00",
						"clinic_id":"",
						"doctor_code":"10022"
					}
  ]
  let doc = res.filter(item => item.department_code === "20401")
  console.log(doc);

  let res1 = []
  res.forEach(item => {
    if(getArr(res1, "department_code").indexOf(item.department_code) < 0){
      res1.push({
        "department_code": item.department_code,
        "department_name": item.department_name
      })
    }
  })
  console.log(res1);



  function getArr(array, key){
    let newArray = [];
    array.forEach(item =>{
      newArray.push(item[key])
    })
    return newArray
  }
</script>
</html>
